---
layout: docs
title: "Переменные и типы данных"
---

## {{page.title}}

В этом разделе представлен обзор переменных и типов данных Scala.

#### Два типа переменных

Когда вы создаете новую переменную в Scala, вы объявляете, является ли переменная неизменяемой или изменяемой:

| Тип           | Описание                                                                                                                                                                 |
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `val`           | Создает неизменяемую переменную, подобную `final` в Java. Вы всегда должны создавать переменную с помощью `val`, если только нет причины, по которой вам нужна изменяемая переменная. |
| `var`           | Создает изменяемую переменную, и ее следует использовать только в крайне редких случаях, когда содержимое переменной будет меняться с течением времени.                  |

В примере показано, как создавать `val` и `var` переменные:

```scala mdoc
val a = 0
var b = 1
```

Значение `val` не может быть переназначено. 
Если попытаться переназначить, то будет получена ошибка компиляции:

```scala mdoc:fail
val msg = "Hello, world"
msg = "Aloha"
```

И наоборот, `var` может быть переназначен:

```scala mdoc
var msg = "Hello, world"
msg = "Aloha"
msg
```

#### Объявление типов переменных

Когда создается переменная, можно явно объявить ее тип или позволить определить тип компилятору:

```scala
val x: Int = 1
val x = 1
```

Вторая форма известна как вывод типа (_type inference_), и это отличный способ помочь сохранить код кратким. 
Компилятор Scala обычно может определить тип данных, как показано в выходных данных этих примеров:

```scala mdoc
val x = 1
val s = "a string"
val nums = List(1, 2, 3)
```

Всегда можно явно объявить тип переменной, но в простых примерах, подобных этим, в этом нет необходимости:

```scala
val x: Int = 1
val s: String = "a string"
val p: Person = Person("Richard")
```

#### Встроенные типы данных

Scala поставляется со стандартными числовыми типами данных, и все они являются полномасштабными экземплярами классов. 
В Scala все является объектом.

Эти примеры показывают, как объявлять переменные числовых типов:

```scala
val b: Byte = 1
val i: Int = 1
val l: Long = 1
val s: Short = 1
val d: Double = 2.0
val f: Float = 3.0
```

Поскольку `Int` и `Double` являются числовыми типами по умолчанию, их можно создавать без явного объявления типа данных:

```scala mdoc:reset
val i = 123
val j = 1.0
```

Также можно добавить символы `L`, `D`, and `F` (и их эквивалент в нижнем регистре) для того, 
чтобы задать `Long`, `Double`, или `Float` значения:

```scala mdoc
val x = 1_000L
val y = 2.2D 
val z = 3.3F
```

Для действительно больших чисел можно использовать типы `BigInt` и `BigDecimal`:

```scala mdoc
var a = BigInt(1_234_567_890_987_654_321L)
var b = BigDecimal(123_456.789)
```

Где `Double` и `Float` являются приблизительными десятичными числами, а `BigDecimal` используется для точной арифметики.

В Scala также есть типы `String` и `Char`:

```scala mdoc
val name = "Bill"
val c = 'a'    
```

#### Строки

Строки Scala похожи на строки Java, но у них есть две замечательные дополнительные функции:
- они поддерживают интерполяцию строк
- создавать многострочные строки очень просто

##### String interpolation

Интерполяция строк обеспечивает очень удобный способ использования переменных внутри строк. 
Например, учитывая эти три переменные:

```scala mdoc:silent
val firstName = "John"
val mi = 'C'
val lastName = "Doe"
```

Эти переменные можно скомбинировать так:

```scala mdoc
s"Name: $firstName $mi $lastName"
```

Просто поставьте перед строкой букву `s`, а затем поставьте символ `$` перед именами переменных внутри строки. 
Чтобы вставить произвольные выражения в строку, заключите их в фигурные скобки:

```scala mdoc:reset
s"2 + 2 = ${2 + 2}"
val x = -1
s"x.abs = ${x.abs}"
```

Символ `s`, который вы помещаете перед строкой, является лишь одним из возможных интерполяторов. 
Если вы используете `f` вместо `s`, вы можете использовать синтаксис форматирования в стиле `printf` в строке. 
Кроме того, интерполятор строк - это всего лишь специальный метод, и его можно определить самостоятельно. 
Например, некоторые библиотеки баз данных определяют очень мощный интерполятор `sql`.

##### Multiline strings

Многострочные строки создаются путем включения строки в три двойные кавычки:

```scala mdoc
val quote = """The essence of Scala:
               Fusion of functional and object-oriented
               programming in a typed setting."""
```

Здесь также можно использовать переменные внутри строки.


---

**References:**
- [Scala3 book](https://docs.scala-lang.org/scala3/book/taste-vars-data-types.html)
