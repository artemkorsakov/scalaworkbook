---
layout: docs
title: "Распределение по пакетам и импорт"
---

## {{page.title}}

Scala использует `packages` для создания пространств имен, которые позволяют модульно разбивать программы. 
Scala поддерживает стиль именования пакетов, используемый в Java, 
а также нотацию пространства имен "фигурные скобки", используемую такими языками, как C++ и C#.

Подход Scala к импорту также похож на Java, но более гибкий. С помощью Scala можно:
- импортирование пакетов, классов, объектов, `trait`-ов и методов
- размещать операторы импорта в любом месте
- скрывать и переименовывать участников при импорте

Эти особенности демонстрируются в следующих примерах.

### Создание пакета

Пакеты создаются путем объявления одного или нескольких имен пакетов в начале файла Scala. 
Например, если ваше доменное имя `acme.com` и вы работаете с пакетом `model` приложения с именем `myapp`, 
объявление пакета выглядит следующим образом:

```scala
package com.acme.myapp.model

class Person ...
```

По соглашению все имена пакетов должны быть строчными, 
а формальным соглашением об именах является _<top-level-domain>.<domain-name>.<project-name>.<module-name>_.

Хотя это и не обязательно, имена пакетов обычно совпадают с именами иерархии каталогов.
Поэтому, если следовать этому соглашению, класс `Person` в этом проекте будет найден 
в файле _MyApp/src/main/scala/com/acme/myapp/model/Person.scala_.

#### Использование нескольких пакетов в одном файле

Показанный выше синтаксис применяется ко всему исходному файлу: 
все определения в файле `Person.scala` принадлежат пакету `com.acme.myapp.model` 
в соответствии с `package` в начале файла.

В качестве альтернативы можно написать `package`, которые применяются только к содержащимся в них определениям:

```scala
package users:

  package administrators:  // полное имя пакета - users.administrators
    class AdminUser        // полное имя файла  - users.administrators.AdminUser

  package normalusers:     // полное имя пакета - users.normalusers
    class NormalUser       // полное имя файла  - users.normalusers.NormalUser
```

Обратите внимание, что за именами пакетов следует двоеточие, а определения внутри пакета имеют отступ.

Преимущества этого подхода заключаются в том, что он допускает вложение пакетов 
и обеспечивает более очевидный контроль над областью действия и инкапсуляцией, особенно в пределах одного файла.

### Операторы импорта, часть 1

Операторы импорта используются для доступа к сущностям в других пакетах. 
Операторы импорта делятся на две основные категории:
- импорт классов, `trait`-ов, объектов, функций и методов
- импорт `given` предложений

Первая категория операторов импорта аналогична тому, что использует Java, 
с немного другим синтаксисом, обеспечивающим большую гибкость. 
Пример:

```scala
import users.*                            // импортируется все из пакета `users`
import users.User                         // импортируется только класс `User`
import users.{User, UserPreferences}      // импортируются только два члена пакета
import users.{UserPreferences as UPrefs}  // переименование импортированного члена
```

Эти примеры предназначены для того, чтобы дать представление о том, как работает первая категория операторов `import`. 
Более подробно они объясняются в следующих подразделах.

Операторы импорта также используются для импорта `given` экземпляров в область видимости. 
Они обсуждаются в конце этой главы.

> Предложения импорта не требуются для доступа к членам одного и того же пакета.

#### Импорт одного или нескольких членов

В Scala импортировать один элемент из пакета можно следующим образом:

```scala
import scala.concurrent.Future
```

или несколько:

```scala
import scala.concurrent.Future
import scala.concurrent.Promise
import scala.concurrent.blocking
```

При импорте нескольких элементов можно импортировать их более лаконично:

```scala
import scala.concurrent.{Future, Promise, blocking}
```

Если необходимо импортировать все из пакета `scala.concurrent`, используется такой синтаксис:

```scala
import scala.concurrent.*
```

#### Переименование элементов при импорте

Иногда необходимо переименовать объекты при их импорте, чтобы избежать конфликтов имен. 
Например, если нужно использовать Scala класс `List`, а также `java.util.List`, 
то можно переименовать `java.util.List` при импорте:

```scala
import java.util.{List as JavaList}
```

Теперь имя `JavaList` можно использовать для ссылки на класс `java.util.List` 
и использовать `List` для ссылки на Scala класс `List`.

Также можно переименовывать несколько элементов одновременно, используя следующий синтаксис:

```scala
import java.util.{Date as JDate, HashMap as JHashMap, *}
```

В этой строке кода говорится: 
"Переименуйте классы `Date` и `HashMap`, как показано, 
и импортируйте все остальное из пакета `java.util`, не переименовывая".

#### Скрытие членов при импорте

...


---

**References:**
- [Scala3 book](https://docs.scala-lang.org/scala3/book/packaging-imports.html)
